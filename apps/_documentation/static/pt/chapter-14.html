

<!DOCTYPE html>
<html class="writer-html5" lang="pt" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Rede &mdash; Documentação py4web 1.20210328.2</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/tabs.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/toggle.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/js/toggle.js"></script>
        <script src="_static/translations.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Índice" href="genindex.html" />
    <link rel="search" title="Pesquisar" href="search.html" />
    <link rel="next" title="De web2py para py4web" href="chapter-15.html" />
    <link rel="prev" title="Autenticação e controle de acesso" href="chapter-13.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> py4web
          

          
          </a>

          
            
            
              <div class="version">
                1.20210328.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Conteúdo:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="chapter-01.html">O que é py4web?</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter-02.html">Ajuda, recursos e dicas</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter-03.html">Instalação e colocação em funcionamento</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter-04.html">O Dashboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter-05.html">Criando seu primeiro aplicativo</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter-06.html">Fixures</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter-07.html">The Database Abstraction Layer (DAL)</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter-08.html">A RESTAPI</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter-09.html">Linguagem de template YATL</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter-10.html">Helpers YATL</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter-11.html">Internacionalização</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter-12.html">Forumlários</a></li>
<li class="toctree-l1"><a class="reference internal" href="chapter-13.html">Autenticação e controle de acesso</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Rede</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#key-features">Características principais</a></li>
<li class="toctree-l2"><a class="reference internal" href="#basic-example">Exemplo básico</a></li>
<li class="toctree-l2"><a class="reference internal" href="#signature">Assinatura</a></li>
<li class="toctree-l2"><a class="reference internal" href="#searching-filtering">Searching / Filtering</a></li>
<li class="toctree-l2"><a class="reference internal" href="#crud">CRUD</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-templates">Usando templates</a></li>
<li class="toctree-l2"><a class="reference internal" href="#customizing-style">Personalizando Estilo</a></li>
<li class="toctree-l2"><a class="reference internal" href="#custom-action-buttons">Ação personalizada Botões</a></li>
<li class="toctree-l2"><a class="reference internal" href="#sample-action-button-class">Botão Classe Ação Amostra</a></li>
<li class="toctree-l2"><a class="reference internal" href="#reference-fields">Os campos de referência</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="chapter-15.html">De web2py para py4web</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">py4web</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Rede</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/web2py/py4web/blob/master/docs/chapter-14.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="grid">
<h1>Rede<a class="headerlink" href="#grid" title="Link permanente para este título">¶</a></h1>
<p>py4web vem com um objecto de grelha fornecendo grid simples e os recursos CRUD.</p>
<div class="section" id="key-features">
<h2>Características principais<a class="headerlink" href="#key-features" title="Link permanente para este título">¶</a></h2>
<ul class="simple">
<li><p>Clique cabeças de coluna para classificar - clique novamente para DESC</p></li>
<li><p>Controle de paginação</p></li>
<li><p>Construído em Search (pode usar search_queries OU search_form)</p></li>
<li><p>Botões de ação - com ou sem texto</p></li>
<li><p>CRUD completa com Confirmação de exclusão</p></li>
<li><p>Pré e Pós Ação (adicionar seus próprios botões para cada linha)</p></li>
<li><p>Datas de grid em formato local</p></li>
<li><p>Formatação padrão por tipo de utilizador mais substituições</p></li>
</ul>
</div>
<div class="section" id="basic-example">
<h2>Exemplo básico<a class="headerlink" href="#basic-example" title="Link permanente para este título">¶</a></h2>
<p>Neste exemplo simples, vamos fazer uma grid sobre a mesa da empresa.</p>
<p>controllers.py</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">reduce</span>
<span class="kn">from</span> <span class="nn">py4web.utils.grid</span> <span class="kn">import</span> <span class="n">Grid</span>
<span class="kn">from</span> <span class="nn">py4web</span> <span class="kn">import</span> <span class="n">action</span>
<span class="kn">from</span> <span class="nn">.common</span> <span class="kn">import</span> <span class="n">db</span><span class="p">,</span> <span class="n">session</span><span class="p">,</span> <span class="n">auth</span>

<span class="nd">@action</span><span class="p">(</span><span class="s1">&#39;companies&#39;</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="s1">&#39;GET&#39;</span><span class="p">])</span>
<span class="nd">@action</span><span class="p">(</span><span class="s1">&#39;companies/&lt;path:path&gt;&#39;</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="s1">&#39;GET&#39;</span><span class="p">])</span>
<span class="nd">@action</span><span class="o">.</span><span class="n">uses</span><span class="p">(</span><span class="n">session</span><span class="p">,</span> <span class="n">db</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="s1">&#39;grid.html&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">companies</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="n">grid</span> <span class="o">=</span> <span class="n">Grid</span><span class="p">(</span><span class="n">path</span><span class="p">,</span>
                <span class="n">query</span><span class="o">=</span><span class="n">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">:</span> <span class="p">(</span><span class="n">a</span> <span class="o">&amp;</span> <span class="n">b</span><span class="p">),</span> <span class="p">[</span><span class="n">db</span><span class="o">.</span><span class="n">company</span><span class="o">.</span><span class="n">id</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">]),</span>
                <span class="n">orderby</span><span class="o">=</span><span class="p">[</span><span class="n">db</span><span class="o">.</span><span class="n">company</span><span class="o">.</span><span class="n">name</span><span class="p">],</span>
                <span class="n">search_queries</span><span class="o">=</span><span class="p">[[</span><span class="s1">&#39;Search by Name&#39;</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">val</span><span class="p">:</span> <span class="n">db</span><span class="o">.</span><span class="n">company</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="n">val</span><span class="p">)]])</span>

    <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="n">grid</span><span class="o">=</span><span class="n">grid</span><span class="p">)</span>
</pre></div>
</div>
<p>grid.html</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[[extend &#39;layout.html&#39;]]
[[=grid.render()]]
</pre></div>
</div>
</div>
<div class="section" id="signature">
<h2>Assinatura<a class="headerlink" href="#signature" title="Link permanente para este título">¶</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Grid</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">path</span><span class="p">,</span>
        <span class="n">query</span><span class="p">,</span>
        <span class="n">search_form</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">search_queries</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">fields</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">show_id</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">orderby</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">left</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">headings</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">create</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">details</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">editable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">deletable</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">pre_action_buttons</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">post_action_buttons</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">auto_process</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">rows_per_page</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span>
        <span class="n">include_action_button_text</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">search_button_text</span><span class="o">=</span><span class="s2">&quot;Filter&quot;</span><span class="p">,</span>
        <span class="n">formstyle</span><span class="o">=</span><span class="n">FormStyleDefault</span><span class="p">,</span>
        <span class="n">grid_class_style</span><span class="o">=</span><span class="n">GridClassStyle</span><span class="p">,</span>
    <span class="p">):</span>
</pre></div>
</div>
<ul class="simple">
<li><p>caminho: a rota do pedido</p></li>
<li><p>query: consulta pydal a ser processado</p></li>
<li><p>search_form: FORM py4web a ser incluído como o formulário de busca. Se search_form é passado em seguida, o desenvolvedor é responsável por aplicar o filtro para a consulta passada. Isso é diferente de search_queries.</p></li>
<li><p>search_queries: lista de listas de consulta para usar para construir o formulário de busca. Ignorado se search_form é usado. O formato é</p></li>
<li><p>campos: lista de campos a serem exibidos na página de lista, se em branco, tablename recolher de primeira consulta e usar todos os campos dessa tabela</p></li>
<li><p>show_id: mostrar o campo ID de registo na página de lista - default = false</p></li>
<li><p>orderby: Campo orderby pydal ou lista de campos</p></li>
<li><p>esquerda: se juntando outras tabelas, especifique a expressão esquerda pydal aqui</p></li>
<li><p>títulos: lista de títulos a ser utilizado para página da lista - se não for fornecido o uso do rótulo do campo</p></li>
<li><p>detalhes: URL para redirecionar para os registros exibindo - Defina como true para gerar automaticamente a URL - definido como falso para não exibir o botão</p></li>
<li><p>criar: URL para redirecionar para a criação de registros - definido como verdadeiro para gerar automaticamente o URL - definido como falso para não exibir o botão</p></li>
<li><p>editável: URL para redirecionar para a edição de registros - Defina como true para gerar automaticamente a URL - definido como falso para não exibir o botão</p></li>
<li><p>deletable: URL para redirecionar para a exclusão de registros - Defina como true para gerar automaticamente a URL - definido como falso para não exibir o botão</p></li>
<li><p>pre_action_buttons: lista de instâncias action_button para incluir antes de os botões de ação padrão</p></li>
<li><p>post_action_buttons: lista de instâncias action_button para incluir após os botões de ação padrão</p></li>
<li><p>auto_process: Boolean - se ou não a grid deve ser processado imediatamente. Se False, desenvolvedor deve chamar grid.process () uma vez todos os parâmetros são configurados</p></li>
<li><p>rows_per_page: número de linhas a serem exibidos por página. padrão 15</p></li>
<li><p>include_action_button_text: boolean dizendo a grid se deseja ou não de texto em botões de ação dentro de sua grid</p></li>
<li><p>search_button_text: texto a ser exibido no botão enviar em seu formulário de pesquisa</p></li>
<li><p>formstyle: py4web Form formstyle usado para estilo seu formulário ao construir automaticamente formulários CRUD</p></li>
<li><p>grid_class_style: objeto GridClassStyle usado para os padrões de substituição para denominar sua grid prestados. Permite especificar classes ou estilos para aplicar em certos pontos da grid.</p></li>
</ul>
</div>
<div class="section" id="searching-filtering">
<h2>Searching / Filtering<a class="headerlink" href="#searching-filtering" title="Link permanente para este título">¶</a></h2>
<p>Há duas maneiras de construir um formulário de pesquisa.</p>
<ul class="simple">
<li><p>Fornecer uma lista search_queries</p></li>
<li><p>Construa a sua própria forma de pesquisa personalizada</p></li>
</ul>
<p>Se você fornecer uma lista search_queries à grid, ele irá:</p>
<ul class="simple">
<li><p>construir um formulário de busca. Se mais de uma consulta de pesquisa na lista, que também irá gerar uma lista suspensa para selecionar qual campo de pesquisa para procurar agains</p></li>
<li><p>recolher valores de filtro e filtrar a grid</p></li>
</ul>
<p>No entanto, se isso não lhe dá flexibilidade suficiente, você pode fornecer o seu próprio formulário de busca e lidar com toda a filtragem (construção das consultas) por si mesmo.</p>
</div>
<div class="section" id="crud">
<h2>CRUD<a class="headerlink" href="#crud" title="Link permanente para este título">¶</a></h2>
<p>A grid oferece recursos CRUD (CRUD) utilizando formulário py4web.</p>
<p>Você pode desligar CRUD apresenta pela configuração criar / details / editável / elimináveis ​​durante a instanciação grid.</p>
<p>Além disso, você pode fornecer uma URL separada para a criação / detalhes / editáveis ​​/ parâmetros elimináveis ​​para ignorar as páginas CRUD gerados automaticamente e lidar com as páginas de detalhes do mesmo.</p>
</div>
<div class="section" id="using-templates">
<h2>Usando templates<a class="headerlink" href="#using-templates" title="Link permanente para este título">¶</a></h2>
<p>Use o seguinte para tornar a sua grid ou formas CRUD em seus templates.</p>
<p>Mostrar a grid ou um formulário CRUD</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[[=grid.render()]]
</pre></div>
</div>
<p>Para permitir a personalização de layout do formulário CRUD (como com web2py) você pode usar o seguinte</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[[form = grid.render() ]]
[[form.custom[&quot;begin&quot;] ]]
...
[[form.custom[&quot;submit&quot;]
[[form.custom[&quot;end&quot;]
</pre></div>
</div>
<p>Ao manusear formulário personalizado layouts que você precisa saber se você está exibindo a grid ou um formulário. Use o seguinte para decidir</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[[if &#39;action&#39; in request.url_args and request.url_args[&#39;action&#39;] in [&#39;details&#39;, &#39;edit&#39;]:]]
    #  Display the custom form
    [[form = grid.render() ]]
    [[form.custom[&quot;begin&quot;] ]]
    ...
    [[form.custom[&quot;submit&quot;]
    [[form.custom[&quot;end&quot;]
[[else:]]
    [[grid.render() ]]
[[pass]]
</pre></div>
</div>
</div>
<div class="section" id="customizing-style">
<h2>Personalizando Estilo<a class="headerlink" href="#customizing-style" title="Link permanente para este título">¶</a></h2>
<p>Você pode fornecer suas próprias formstyle ou grid classes e estilo ao grid.</p>
<ul class="simple">
<li><p>formstyle é o mesmo que um formstyle Forma, usadas para as formas estilo CRUD.</p></li>
<li><p>grid_class_style é uma classe que fornece as classes e / ou estilos utilizados para certas porções da grelha.</p></li>
</ul>
<p>O GridClassStyle padrão - baseado em no.css, principalmente usa estilos para modificar o layout da grid</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">GridClassStyle</span><span class="p">:</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Default grid style</span>
<span class="sd">    Internal element names match default class name, other classes can be added</span>
<span class="sd">    Style use should be minimized since it cannot be overridden by CSS</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">classes</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;grid-wrapper&quot;</span><span class="p">:</span> <span class="s2">&quot;grid-wrapper&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-header&quot;</span><span class="p">:</span> <span class="s2">&quot;grid-header&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-new-button&quot;</span><span class="p">:</span> <span class="s2">&quot;grid-new-button info&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-search&quot;</span><span class="p">:</span> <span class="s2">&quot;grid-search&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-table-wrapper&quot;</span><span class="p">:</span> <span class="s2">&quot;grid-table-wrapper&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-table&quot;</span><span class="p">:</span> <span class="s2">&quot;grid-table&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-sorter-icon-up&quot;</span><span class="p">:</span> <span class="s2">&quot;grid-sort-icon-up fas fa-sort-up&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-sorter-icon-down&quot;</span><span class="p">:</span> <span class="s2">&quot;grid-sort-icon-down fas fa-sort-down&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-th-action-button&quot;</span><span class="p">:</span> <span class="s2">&quot;grid-col-action-button&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-td-action-button&quot;</span><span class="p">:</span> <span class="s2">&quot;grid-col-action-button&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-tr&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-th&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-td&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-details-button&quot;</span><span class="p">:</span> <span class="s2">&quot;grid-details-button info&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-edit-button&quot;</span><span class="p">:</span> <span class="s2">&quot;grid-edit-button info&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-delete-button&quot;</span><span class="p">:</span> <span class="s2">&quot;grid-delete-button info&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-footer&quot;</span><span class="p">:</span> <span class="s2">&quot;grid-footer&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-info&quot;</span><span class="p">:</span> <span class="s2">&quot;grid-info&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-pagination&quot;</span><span class="p">:</span> <span class="s2">&quot;grid-pagination&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-pagination-button&quot;</span><span class="p">:</span> <span class="s2">&quot;grid-pagination-button info&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-pagination-button-current&quot;</span><span class="p">:</span> <span class="s2">&quot;grid-pagination-button-current default&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-cell-type-string&quot;</span><span class="p">:</span> <span class="s2">&quot;grid-cell-type-string&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-cell-type-text&quot;</span><span class="p">:</span> <span class="s2">&quot;grid-cell-type-text&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-cell-type-boolean&quot;</span><span class="p">:</span> <span class="s2">&quot;grid-cell-type-boolean&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-cell-type-float&quot;</span><span class="p">:</span> <span class="s2">&quot;grid-cell-type-float&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-cell-type-int&quot;</span><span class="p">:</span> <span class="s2">&quot;grid-cell-type-int&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-cell-type-date&quot;</span><span class="p">:</span> <span class="s2">&quot;grid-cell-type-date&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-cell-type-time&quot;</span><span class="p">:</span> <span class="s2">&quot;grid-cell-type-time&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-cell-type-datetime&quot;</span><span class="p">:</span> <span class="s2">&quot;grid-cell-type-datetime&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-cell-type-upload&quot;</span><span class="p">:</span> <span class="s2">&quot;grid-cell-type-upload&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-cell-type-list&quot;</span><span class="p">:</span> <span class="s2">&quot;grid-cell-type-list&quot;</span><span class="p">,</span>
        <span class="c1"># specific for custom form</span>
        <span class="s2">&quot;search_form&quot;</span><span class="p">:</span> <span class="s2">&quot;search-form&quot;</span><span class="p">,</span>
        <span class="s2">&quot;search_form_table&quot;</span><span class="p">:</span> <span class="s2">&quot;search-form-table&quot;</span><span class="p">,</span>
        <span class="s2">&quot;search_form_tr&quot;</span><span class="p">:</span> <span class="s2">&quot;search-form-tr&quot;</span><span class="p">,</span>
        <span class="s2">&quot;search_form_td&quot;</span><span class="p">:</span> <span class="s2">&quot;search-form-td&quot;</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="n">styles</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;grid-wrapper&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-header&quot;</span><span class="p">:</span> <span class="s2">&quot;display: table; width: 100%&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-new-button&quot;</span><span class="p">:</span> <span class="s2">&quot;display: table-cell;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-search&quot;</span><span class="p">:</span> <span class="s2">&quot;display: table-cell; float:right&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-table-wrapper&quot;</span><span class="p">:</span> <span class="s2">&quot;overflow-x: auto; width:100%&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-table&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-sorter-icon-up&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-sorter-icon-down&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-th-action-button&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-td-action-button&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-tr&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-th&quot;</span><span class="p">:</span> <span class="s2">&quot;white-space: nowrap; vertical-align: middle&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-td&quot;</span><span class="p">:</span> <span class="s2">&quot;white-space: nowrap; vertical-align: middle&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-details-button&quot;</span><span class="p">:</span> <span class="s2">&quot;margin-bottom: 0&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-edit-button&quot;</span><span class="p">:</span> <span class="s2">&quot;margin-bottom: 0&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-delete-button&quot;</span><span class="p">:</span> <span class="s2">&quot;margin-bottom: 0&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-footer&quot;</span><span class="p">:</span> <span class="s2">&quot;display: table; width:100%&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-info&quot;</span><span class="p">:</span> <span class="s2">&quot;display: table-cell;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-pagination&quot;</span><span class="p">:</span> <span class="s2">&quot;display: table-cell; text-align:right&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-pagination-button&quot;</span><span class="p">:</span> <span class="s2">&quot;min-width: 20px&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-pagination-button-current&quot;</span><span class="p">:</span> <span class="s2">&quot;min-width: 20px; pointer-events:none; opacity: 0.7&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-cell-type-string&quot;</span><span class="p">:</span> <span class="s2">&quot;white-space: nowrap; vertical-align: middle; text-align: left; text-overflow: ellipsis; max-width: 200px&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-cell-type-text&quot;</span><span class="p">:</span> <span class="s2">&quot;vertical-align: middle; text-align: left; text-overflow: ellipsis; max-width: 200px&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-cell-type-boolean&quot;</span><span class="p">:</span> <span class="s2">&quot;white-space: nowrap; vertical-align: middle; text-align: center&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-cell-type-float&quot;</span><span class="p">:</span> <span class="s2">&quot;white-space: nowrap; vertical-align: middle; text-align: right&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-cell-type-int&quot;</span><span class="p">:</span> <span class="s2">&quot;white-space: nowrap; vertical-align: middle; text-align: right&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-cell-type-date&quot;</span><span class="p">:</span> <span class="s2">&quot;white-space: nowrap; vertical-align: middle; text-align: right&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-cell-type-time&quot;</span><span class="p">:</span> <span class="s2">&quot;white-space: nowrap; vertical-align: middle; text-align: right&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-cell-type-datetime&quot;</span><span class="p">:</span> <span class="s2">&quot;white-space: nowrap; vertical-align: middle; text-align: right&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-cell-type-upload&quot;</span><span class="p">:</span> <span class="s2">&quot;white-space: nowrap; vertical-align: middle; text-align: center&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-cell-type-list&quot;</span><span class="p">:</span> <span class="s2">&quot;white-space: nowrap; vertical-align: middle; text-align: left&quot;</span><span class="p">,</span>
        <span class="c1"># specific for custom form</span>
        <span class="s2">&quot;search_form&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;search_form_table&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;search_form_tr&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;search_form_td&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">element</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;returns a dict with _class and _style for the element name&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;_class&quot;</span><span class="p">:</span> <span class="bp">cls</span><span class="o">.</span><span class="n">classes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">element</span><span class="p">),</span>
            <span class="s2">&quot;_style&quot;</span><span class="p">:</span> <span class="bp">cls</span><span class="o">.</span><span class="n">styles</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">element</span><span class="p">),</span>
        <span class="p">}</span>
</pre></div>
</div>
<p>GridClassStyleBulma - implementação bulma</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">GridClassStyleBulma</span><span class="p">(</span><span class="n">GridClassStyle</span><span class="p">):</span>
    <span class="n">classes</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;grid-wrapper&quot;</span><span class="p">:</span> <span class="s2">&quot;grid-wrapper field&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-header&quot;</span><span class="p">:</span> <span class="s2">&quot;grid-header pb-2&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-new-button&quot;</span><span class="p">:</span> <span class="s2">&quot;grid-new-button button&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-search&quot;</span><span class="p">:</span> <span class="s2">&quot;grid-search is-pulled-right pb-2&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-table-wrapper&quot;</span><span class="p">:</span> <span class="s2">&quot;grid-table-wrapper table_wrapper&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-table&quot;</span><span class="p">:</span> <span class="s2">&quot;grid-table table is-bordered is-striped is-hoverable is-fullwidth&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-sorter-icon-up&quot;</span><span class="p">:</span> <span class="s2">&quot;grid-sort-icon-up fas fa-sort-up is-pulled-right&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-sorter-icon-down&quot;</span><span class="p">:</span> <span class="s2">&quot;grid-sort-icon-down fas fa-sort-down is-pulled-right&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-th-action-button&quot;</span><span class="p">:</span> <span class="s2">&quot;grid-col-action-button is-narrow&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-td-action-button&quot;</span><span class="p">:</span> <span class="s2">&quot;grid-col-action-button is-narrow&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-tr&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-th&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-td&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-details-button&quot;</span><span class="p">:</span> <span class="s2">&quot;grid-details-button button is-small&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-edit-button&quot;</span><span class="p">:</span> <span class="s2">&quot;grid-edit-button button is-small&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-delete-button&quot;</span><span class="p">:</span> <span class="s2">&quot;grid-delete-button button is-small&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-footer&quot;</span><span class="p">:</span> <span class="s2">&quot;grid-footer&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-info&quot;</span><span class="p">:</span> <span class="s2">&quot;grid-info is-pulled-left&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-pagination&quot;</span><span class="p">:</span> <span class="s2">&quot;grid-pagination is-pulled-right&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-pagination-button&quot;</span><span class="p">:</span> <span class="s2">&quot;grid-pagination-button button is-small&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-pagination-button-current&quot;</span><span class="p">:</span> <span class="s2">&quot;grid-pagination-button-current button is-primary is-small&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-cell-type-string&quot;</span><span class="p">:</span> <span class="s2">&quot;grid-cell-type-string&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-cell-type-text&quot;</span><span class="p">:</span> <span class="s2">&quot;grid-cell-type-text&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-cell-type-boolean&quot;</span><span class="p">:</span> <span class="s2">&quot;grid-cell-type-boolean has-text-centered&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-cell-type-float&quot;</span><span class="p">:</span> <span class="s2">&quot;grid-cell-type-float&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-cell-type-int&quot;</span><span class="p">:</span> <span class="s2">&quot;grid-cell-type-int&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-cell-type-date&quot;</span><span class="p">:</span> <span class="s2">&quot;grid-cell-type-date&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-cell-type-time&quot;</span><span class="p">:</span> <span class="s2">&quot;grid-cell-type-time&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-cell-type-datetime&quot;</span><span class="p">:</span> <span class="s2">&quot;grid-cell-type-datetime&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-cell-type-upload&quot;</span><span class="p">:</span> <span class="s2">&quot;grid-cell-type-upload&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-cell-type-list&quot;</span><span class="p">:</span> <span class="s2">&quot;grid-cell-type-list&quot;</span><span class="p">,</span>
        <span class="c1"># specific for custom form</span>
        <span class="s2">&quot;search_form&quot;</span><span class="p">:</span> <span class="s2">&quot;search-form is-pulled-right pb-2&quot;</span><span class="p">,</span>
        <span class="s2">&quot;search_form_table&quot;</span><span class="p">:</span> <span class="s2">&quot;search-form-table&quot;</span><span class="p">,</span>
        <span class="s2">&quot;search_form_tr&quot;</span><span class="p">:</span> <span class="s2">&quot;search-form-tr&quot;</span><span class="p">,</span>
        <span class="s2">&quot;search_form_td&quot;</span><span class="p">:</span> <span class="s2">&quot;search-form-td pr-1&quot;</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="n">styles</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;grid-wrapper&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-header&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-new-button&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-search&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-table-wrapper&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-table&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-sorter-icon-up&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-sorter-icon-down&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-th-action-button&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-td-action-button&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-tr&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-th&quot;</span><span class="p">:</span> <span class="s2">&quot;text-align: center; text-transform: uppercase;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-td&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-details-button&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-edit-button&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-delete-button&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-footer&quot;</span><span class="p">:</span> <span class="s2">&quot;padding-top: .5em;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-info&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-pagination&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-pagination-button&quot;</span><span class="p">:</span> <span class="s2">&quot;margin-left: .25em;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-pagination-button-current&quot;</span><span class="p">:</span> <span class="s2">&quot;margin-left: .25em;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-cell-type-string&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-cell-type-text&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-cell-type-boolean&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-cell-type-float&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-cell-type-int&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-cell-type-date&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-cell-type-time&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-cell-type-datetime&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-cell-type-upload&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grid-cell-type-list&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="c1"># specific for custom form</span>
        <span class="s2">&quot;search_form&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;search_form_table&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;search_form_tr&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;search_form_td&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="p">}</span>
</pre></div>
</div>
<p>Você pode construir seu próprio class_style para ser usado com o quadro css de sua escolha.</p>
</div>
<div class="section" id="custom-action-buttons">
<h2>Ação personalizada Botões<a class="headerlink" href="#custom-action-buttons" title="Link permanente para este título">¶</a></h2>
<p>Tal como acontece com web2py, você pode adicionar botões adicionais para cada linha em sua grid. Você faz isso fornecendo pre_action_buttons ou post_action_buttons à Rede ** inicialização ** método.</p>
<ul class="simple">
<li><p>pre_action_buttons - lista de instâncias action_button para incluir antes de os botões de ação padrão</p></li>
<li><p>post_action_buttons - lista de instâncias action_button para incluir após os botões de ação padrão</p></li>
</ul>
<p>Você pode construir sua própria classe de ação do botão para passar para pré / botões de ação pós baseados no template abaixo (isso não é fornecido com py4web)</p>
</div>
<div class="section" id="sample-action-button-class">
<h2>Botão Classe Ação Amostra<a class="headerlink" href="#sample-action-button-class" title="Link permanente para este título">¶</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
             <span class="n">url</span><span class="p">,</span>
             <span class="n">text</span><span class="p">,</span>
             <span class="n">icon</span><span class="o">=</span><span class="s2">&quot;fa-calendar&quot;</span><span class="p">,</span>
             <span class="n">additional_classes</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
             <span class="n">message</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
             <span class="n">append_id</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
</pre></div>
</div>
<ul class="simple">
<li><p>url: a página para navegar até quando o botão é clicado</p></li>
<li><p>texto: texto para exibição no botão</p></li>
<li><p>ícone: o ícone font-incrível para exibição antes do texto</p></li>
<li><p>additional_classes: uma lista separada por espaços de aulas para incluir no elemento botão</p></li>
<li><p>mensagem: mensagem de confirmação para exibição se a classe ‘confirmação’ é adicionado a classes adicionais</p></li>
<li><p>append_id: Se for verdade, adicionar id_field_name = id_value à querystring url para o botão</p></li>
</ul>
</div>
<div class="section" id="reference-fields">
<h2>Os campos de referência<a class="headerlink" href="#reference-fields" title="Link permanente para este título">¶</a></h2>
<p>Ao exibir campos em uma tabela PyDAL, às vezes você deseja exibir um campo mais descritivo do que um valor de chave estrangeira. Há um par de maneiras de lidar com isso com a grid py4web.</p>
<p>filter_out na definição de campo PyDAL - aqui está um exemplo de um campo de chave estrangeira</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Field</span><span class="p">(</span><span class="s1">&#39;company&#39;</span><span class="p">,</span> <span class="s1">&#39;reference company&#39;</span><span class="p">,</span>
      <span class="n">requires</span><span class="o">=</span><span class="n">IS_NULL_OR</span><span class="p">(</span><span class="n">IS_IN_DB</span><span class="p">(</span><span class="n">db</span><span class="p">,</span> <span class="s1">&#39;company.id&#39;</span><span class="p">,</span>
                                   <span class="s1">&#39;</span><span class="si">%(name)s</span><span class="s1">&#39;</span><span class="p">,</span>
                                   <span class="n">zero</span><span class="o">=</span><span class="s1">&#39;..&#39;</span><span class="p">)),</span>
      <span class="n">filter_out</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">name</span> <span class="k">if</span> <span class="n">x</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span><span class="p">),</span>
</pre></div>
</div>
<p>Isto irá exibir o nome da empresa na grid em vez do ID empresa</p>
<p>A queda de usar este método é que classificação e filtragem são baseados no campo da empresa na tabela de empregado e não o nome da empresa</p>
<p>esquerda juntar-se e especificar campos da tabela juntou - especificado no parâmetro esquerdo da grid instanciação</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">db</span><span class="o">.</span><span class="n">company</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">employee</span><span class="o">.</span><span class="n">company</span> <span class="o">==</span> <span class="n">db</span><span class="o">.</span><span class="n">company</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
</pre></div>
</div>
<p>Você pode especificar um PyDAL padrão LEFT JOIN, incluindo uma lista de junta a considerar.</p>
<p>Agora o campo nome da empresa pode ser incluído em sua lista de campos pode ser clicado e ordenados.</p>
<p>Agora você também pode especificar uma consulta como:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">queries</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">db</span><span class="o">.</span><span class="n">employee</span><span class="o">.</span><span class="n">last_name</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="n">search_text</span><span class="p">))</span> <span class="o">|</span> <span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">employee</span><span class="o">.</span><span class="n">first_name</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="n">search_text</span><span class="p">))</span> <span class="o">|</span> <span class="n">db</span><span class="o">.</span><span class="n">company</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="n">search_text</span><span class="p">)))</span>
</pre></div>
</div>
<p>Este método permite classificar e filtrar, mas não permite que você para combinar campos a serem exibidos em conjunto, como o método filter_out faria</p>
<p>Você precisa determinar qual método é melhor para o seu caso de uso compreender as grids diferentes no mesmo aplicativo pode precisar de se comportar de forma diferente.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="chapter-15.html" class="btn btn-neutral float-right" title="De web2py para py4web" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="chapter-13.html" class="btn btn-neutral float-left" title="Autenticação e controle de acesso" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, BSDv3 License

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Read the Docs</span>
      
      
     <span class="fa fa-element">
     <input class="container_toggle" type="checkbox" id="switch" name="mode">
     <label for="switch"></label>
     </span>
      
      v: 1.20210328.2
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      
      <dl>
        <dt>Idiomas</dt>
        
          
          
          <dd><a href="../en/index.html">en</a></dd> 
        
           <strong> 
          <dd><a href="../pt/index.html">pt</a></dd> </strong>
          
        
      </dl>
      
      
      <dl>
        <dt>Versões</dt>
        
          
          <dd><a href="index.html">current</a></dd>
          
        
      </dl>
      
      
      <dl>
        <dt>Transferências</dt>
        
          <dd><a href="py4web_pt.pdf">pdf</a></dd>
        
          <dd><a href="py4web_pt.epub">epub</a></dd>
        
      </dl>
      
      
      <hr/>
    </div>
  </div>

 

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    

  <style>
         .wy-nav-content { max-width: none; }
  </style>



</body>
</html>