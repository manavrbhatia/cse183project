[[extend 'layout.html']]

<style>
[v-cloak] {
     display: none;
}
</style>


<div class="section" id="vue-target" v-cloak>
  <h3 class="title has-text-centered">Find the <span class="title-is-2 has-text-warning">Property Manager</span> for you</h3>

  <!-- maybe mess with spacing later -->
  <div class="control block has-icons-left has-icons-right">
    <!-- <input class="input is-rounded" type="text" v-model="query" @keyup="search" />
    <input class="input"  -->
    <div v-if="show_address">
      <input class="input is-rounded is-info" v-model="query" type="text" placeholder="Your Property's Address">
      <span class="icon is-small is-left">
        <i class="fa fa-building-o has-text-info"></i>
      </span>
    </div>
    <div v-if="!show_address">
      <input class="input is-rounded is-info" v-model="query" type="text" placeholder="Manager's Name">
      <span class="icon is-small is-left">
        <i class="fa fa-user-o has-text-info"></i>
      </span>
    </div>
    <a class="icon is-small is-right" style="cursor: pointer; pointer-events: initial !important;" @click="search()"> <!-- getting 404, not sure if that's my issue-->
      <i class="fa fa-search has-text-info"></i>
    </a>
  </div>
  
  <!--make the cursor not wacky when it hovers and clicks on the text-->
  <p v-if="show_address" @click="toggle_address(0)" class="subtitle-is-6 has-text-info has-text-centered" style="font-weight:bold">I'd like to look up a manager by name</p>
  <p v-if="!show_address" @click="toggle_address(1)" class="subtitle-is-6 has-text-info has-text-centered" style="font-weight:bold">I'd like to look up managers by address</p>  

  <div v-for="r in results">{{r}}</div>
</div>


[[block page_scripts]]
<!-- Loads the index-specific js for Vue -->
<script>
  let my_callback_url = "[[=XML(my_callback_url)]]";
  let search_url = "[[=XML(search_url)]]";
  let results_url = "[[=XML(results_url)]]";
</script>
<script src="js/index.js"></script>
[[end]]
